{"version":3,"sources":["../../dist/index.es.js","utils/nop.js","contexts/router.js","providers/router/index.js","providers/router/use-route.js","contexts/users.js","contexts/products.js","providers/index.js","components/route/index.js","components/link/index.js","components/topbar/index.js","components/list/index.js","components/list-item/index.js","components/user-detail/index.js","components/list-users/index.js","shell/users.js","components/list-products/index.js","index.js","routes.js"],"names":["classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","objectWithoutProperties","obj","keys","indexOf","hasOwnProperty","call","NEWER","Symbol","OLDER","LRUMap","limit","entries","this","size","oldest","newest","undefined","map","Map","assign","value","entry","get","_bump","set","shift","delete","has","Number","MAX_VALUE","clear","it","iterator","itv","next","done","e","Error","hashSeed","lru","index_es","_ref","children","context","_ref$initialItems","initialItems","_ref$externalResource","externalResources","setTick","node_modules_react","node_modules_react_default","a","createElement","Provider","getResource","name","force","arguments","args","lib_default","h32","JSON","stringify","toString","getKey","resource","promise","Promise","resolve","reject","apply","then","promiseResource","status","newData","recoveryResource","clearCache","nop","createContext","url","go","params","setParams","Router","_useRoute","_useState","useState","window","location","pathname","_useState2","slicedToArray","setUrl","useEffect","history","useRoute","_useRoute2","react_default","router","users","requestUsers","hello","products","nameToId","item","index","objectSpread","id","slug","toLowerCase","replace","fetchUsers","fetch","resp","json","response","results","data","fetchUser","query","fetchProducts","fetchProduct","loadImage","src","image","Image","onload","setTimeout","route","pathMatch","Route","path","useContext","RouterContext","match","split","filter","r","v","LinkGenerator","href","esm_objectWithoutProperties","Link","_ref2","component","LinkComponent","onClick","preventDefault","stopPropagation","throwPromise","Topbar","usersContext","className","List","_ref$items","items","ListItem","UserDetail","react","fallback","srcImage","alt","gender","birth_year","ListUsers","user","String","UserShell","ListProduct","product","require","rootElement","document","getElementById","ReactDOM","render","StrictMode","productsContext"],"mappings":"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","file":"static/js/main.f8630cdd.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport XXH from 'xxhashjs';\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar NEWER = Symbol(\"N\");\nvar OLDER = Symbol(\"O\");\n/**\n * https://github.com/stereobooster/lru_map/blob/stereobooster/index.js\n *\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\n * recently used items while discarding least recently used items when its limit\n * is reached.\n *\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\n * See README.md for details.\n *\n * Illustration of the design:\n *\n *       entry             entry             entry             entry\n *       ______            ______            ______            ______\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\n *      |  A   |          |  B   |          |  C   |          |  D   |\n *      |______| <= older.|______| <= older.|______| <= older.|______|\n *\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\n */\n\nvar LRUMap = function () {\n  function LRUMap(limit, entries) {\n    classCallCheck(this, LRUMap);\n    this.size = 0;\n    this.limit = limit;\n    this.oldest = this.newest = undefined;\n    this.map = new Map();\n\n    if (entries) {\n      this.assign(entries);\n\n      if (limit < 1) {\n        this.limit = this.size;\n      }\n    }\n  }\n\n  createClass(LRUMap, [{\n    key: \"_bump\",\n    value: function _bump(entry) {\n      if (entry === this.newest) {\n        // Already the most recenlty used entry, so no need to update the list\n        return;\n      } // HEAD--------------TAIL\n      //   <.older   .newer>\n      //  <--- add direction --\n      //   A  B  C  <D>  E\n\n\n      if (entry[NEWER]) {\n        if (entry === this.oldest) {\n          this.oldest = entry[NEWER];\n        }\n\n        entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\n      }\n\n      if (entry[OLDER]) {\n        entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\n      }\n\n      entry[NEWER] = undefined; // D --x\n\n      entry[OLDER] = this.newest; // D. --> E\n\n      if (this.newest) {\n        this.newest[NEWER] = entry; // E. <-- D\n      }\n\n      this.newest = entry;\n    }\n  }, {\n    key: \"get\",\n    value: function get$$1(key) {\n      // First, find our cache entry\n      var entry = this.map.get(key);\n      if (!entry) return; // Not cached. Sorry.\n      // As <key> was found in the cache, register it as being requested recently\n\n      this._bump(entry);\n\n      return entry.value;\n    }\n  }, {\n    key: \"set\",\n    value: function set$$1(key, value) {\n      var entry = this.map.get(key);\n\n      if (entry) {\n        // update existing\n        entry.value = value;\n\n        this._bump(entry);\n\n        return this;\n      } // new entry\n\n\n      this.map.set(key, entry = {\n        key: key,\n        value: value\n      });\n\n      if (this.newest) {\n        // link previous tail to the new tail (entry)\n        this.newest[NEWER] = entry;\n        entry[OLDER] = this.newest;\n      } else {\n        // we're first in -- yay\n        this.oldest = entry;\n      } // add new entry to the end of the linked list -- it's now the freshest entry.\n\n\n      this.newest = entry;\n      ++this.size;\n\n      if (this.size > this.limit) {\n        // we hit the limit -- remove the head\n        this.shift();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      // todo: handle special case when limit == 1\n      var entry = this.oldest;\n\n      if (entry) {\n        if (this.oldest[NEWER]) {\n          // advance the list\n          this.oldest = this.oldest[NEWER];\n          this.oldest[OLDER] = undefined;\n        } else {\n          // the cache is exhausted\n          this.oldest = undefined;\n          this.newest = undefined;\n        } // Remove last strong reference to <entry> and remove links from the purged\n        // entry being returned:\n\n\n        entry[NEWER] = entry[OLDER] = undefined;\n        this.map.delete(entry.key);\n        --this.size;\n        return [entry.key, entry.value];\n      }\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this.map.has(key);\n    }\n  }, {\n    key: \"assign\",\n    value: function assign(entries) {\n      var entry = void 0,\n          limit = this.limit || Number.MAX_VALUE;\n      this.map.clear();\n      var it = entries[Symbol.iterator]();\n\n      for (var itv = it.next(); !itv.done; itv = it.next()) {\n        var e = {\n          key: itv.value[0],\n          value: itv.value[1]\n        };\n        this.map.set(e.key, e);\n\n        if (!entry) {\n          this.oldest = e;\n        } else {\n          entry[NEWER] = e;\n          e[OLDER] = entry;\n        }\n\n        entry = e;\n\n        if (limit-- === 0) {\n          throw new Error(\"overflow\");\n        }\n      }\n\n      this.newest = entry;\n      this.size = this.map.size;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      // Not clearing links should be safe, as we don't expose live links to user\n      this.oldest = this.newest = undefined;\n      this.size = 0;\n      this.map.clear();\n    }\n  }]);\n  return LRUMap;\n}();\n\nvar hashSeed = \"notsecurity\";\nvar lru = new LRUMap(100);\n\nfunction getKey(name, args) {\n  return XXH.h32(JSON.stringify(arguments), hashSeed).toString(16);\n}\n\nfunction Provider(_ref) {\n  var children = _ref.children,\n      context = _ref.context,\n      _ref$initialItems = _ref.initialItems,\n      initialItems = _ref$initialItems === undefined ? null : _ref$initialItems,\n      _ref$externalResource = _ref.externalResources,\n      externalResources = _ref$externalResource === undefined ? {} : _ref$externalResource,\n      props = objectWithoutProperties(_ref, [\"children\", \"context\", \"initialItems\", \"externalResources\"]);\n  var setTick = useState(void 0)[1];\n  useEffect(function () {\n    return initialItems && lru.assign(initialItems);\n  });\n\n  function clearCache() {\n    lru.clear();\n  }\n\n  function getResource(name) {\n    var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return function () {\n      var args = arguments;\n      var key = getKey(name, args);\n\n      if (force || !lru.has(key)) {\n        var resource = props[name] || externalResources[name];\n        var promise = new Promise(function (resolve, reject) {\n          resource.apply(null, args).then(function () {\n            resolve.apply(null, arguments);\n          });\n        });\n        var promiseResource = {\n          status: \"pending\",\n          // promise,\n          args: undefined\n        };\n        promise.then(function () {\n          var newData = {\n            status: \"resolved\",\n            args: arguments\n          };\n          lru.set(key, newData);\n          setTick(void 0);\n        });\n        lru.set(key, promiseResource);\n        setTick(void 0); // throw promiseResource.promise;\n\n        throw promise;\n      }\n\n      var recoveryResource = lru.get(key);\n\n      if (recoveryResource.status === \"resolved\") {\n        return recoveryResource.args[0];\n      }\n    };\n  }\n\n  return React.createElement(context.Provider, {\n    value: {\n      getResource: getResource,\n      clearCache: clearCache\n    }\n  }, children);\n}\n\nexport default Provider;","export default function nop() {}\n","import { createContext } from \"react\";\nimport nop from \"./../utils/nop\";\n\nconst context = createContext({\n  url: null,\n  go: nop,\n  params: {},\n  setParams: nop\n});\n\nexport default context;\n","import React from \"react\";\n\nimport useRoute from \"./use-route\";\n\nimport RouterContext from \"./../../contexts/router\";\n\nfunction Router({ children }) {\n  const [url, go] = useRoute();\n\n  return (\n    <RouterContext.Provider value={{ url, go }}>\n      {children}\n    </RouterContext.Provider>\n  );\n}\n\nexport { Router as default };\n","// eslint-disable-next-line\nimport React, { useState, useEffect } from \"react\";\nimport history from \"browser-history\";\n\nexport default function useRoute() {\n  const [url, setUrl] = useState(window.location.pathname);\n\n  useEffect(() => {\n    history((e, url) => setUrl(url));\n  });\n\n  function go(url) {\n    setUrl(url);\n    history(url);\n  }\n\n  return [url, go];\n}\n","import { createContext } from \"react\";\nimport nop from \"./../utils/nop\";\n\nconst context = createContext({\n  users: [],\n  requestUsers: nop,\n  hello: null\n});\n\nexport default context;\n","import { createContext } from \"react\";\n\nconst context = createContext({\n  products: []\n});\n\nexport default context;\n","import React from \"react\";\nimport Provider from 'context-cache-provider';\n\nimport RouterProvider from \"./router\";\n\nimport usersContext from \"./../contexts/users\";\nimport productsContext from \"./../contexts/products\";\n\n\nfunction nameToId(item, index) {\n  return {...item, id: index+1, slug: item.name.toLowerCase().replace(' ', '_')}\n}\nfunction fetchUsers() {\n  return fetch(\"https://swapi.co/api/people/\")\n  .then(resp => resp.json())\n  .then(response => response.results)\n  .then(data => data.map(nameToId));\n}\n\nfunction fetchUser(query = {}) {\n  if (!query.id) return new Promise(resolve => resolve([]));\n\n  return fetch(\"https://swapi.co/api/people/\" + query.id)\n    .then(resp => resp.json())\n    .then(nameToId);\n}\n\nfunction fetchProducts() {\n  return fetch(\"https://swapi.co/api/starships/\")\n  .then(resp => resp.json())\n  .then(response => response.results)\n  .then(data => data.map(nameToId));\n}\n\nfunction fetchProduct(query = {}) {\n  if (!query.id) return new Promise(resolve => resolve([]));\n\n  return fetch(\"https://swapi.co/api/starships/\" + query.id)\n    .then(resp => resp.json())\n    .then(nameToId);\n}\n\n/**\n * external resources\n *\n * You could have your external resources using separate provider and context\n *\n * @type {{loadImage: (function(*=): Promise<any>)}}\n */\nconst externalResources = {\n  loadImage: function(src) {\n    const image = new Image();\n    return new Promise(resolve => {\n      image.onload = () => setTimeout(() => resolve(src), 3000);\n      image.src = src;\n    });\n  }\n};\n\nexport default function Providers({ children }) {\n  return (\n    <Provider\n      context={productsContext}\n      fetchProducts={fetchProducts}\n      fetchProduct={fetchProduct}\n    >\n      <Provider\n        context={usersContext}\n        fetchUsers={fetchUsers}\n        fetchUser={fetchUser}\n        {...externalResources}\n      >\n        <RouterProvider>{children}</RouterProvider>\n      </Provider>\n    </Provider>\n  );\n}\n","// eslint-disable-next-line\nimport React, { useContext } from \"react\";\nimport pathMatch from \"path-match\";\n\nimport RouterContext from \"./../../contexts/router\";\n\nconst route = pathMatch();\n\nexport default function Route({ path, children }) {\n  const { url } = useContext(RouterContext);\n  const match = route(path);\n  const params = match(url);\n  if (params !== false) {\n    url.split(\"/\")\n      .filter(r => r)\n      .map((v,i) => (params[i] = v))\n    return children(params);\n  }\n  return null;\n}\n","import React, { useContext } from \"react\";\nimport RouterContext from \"./../../contexts/router\";\n\nfunction LinkGenerator({ href, children, ...props }) {\n  return <a {...props} href={href || '!#'} >{children}</a>;\n}\n\nexport default function Link({ component, ...props }) {\n  const { go } = useContext(RouterContext);\n  const LinkComponent = component || LinkGenerator;\n\n  return <LinkComponent {...props} onClick={(e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    props.onClick && props.onClick(e);\n    props.href && go(props.href);\n  }} />\n}\n\n","import React, {useContext} from \"react\";\nimport Link from \"./../link\";\n\nimport usersContext from \"./../../contexts/users\";\n\nfunction throwPromise() {\n  const p = new Promise(resolve => {\n    setTimeout(resolve, 5000);\n  });\n\n  throw p;\n}\n\nexport default function Topbar() {\n  const {clearCache} = useContext(usersContext);\n\n  return (\n    <div className=\"topbar\">\n      <Link href=\"/\">Home</Link>\n      <Link href=\"/users\">People</Link>\n      <Link href=\"/products\">Products</Link>\n      <Link onClick={()=>clearCache()}>Clear cache</Link>\n      <Link onClick={throwPromise}>Throw</Link>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function List({ items = [], children, ...props }) {\n  if (!items) return null;\n  return <ul {...props}>{items.map(children)}</ul>;\n}\n","import React from \"react\";\n\nexport default function ListItem({ children }) {\n  return <li>{children}</li>;\n}\n","import React, { useContext, Suspense } from \"react\";\n\nimport context from \"./../../contexts/users\";\n\nexport default function UserDetail({ id }) {\n  const { getResource } = useContext(context);\n\n  const data = getResource(\"fetchUser\")({ id });\n\n  if (!data)\n    return null;\n\n  function RenderImage({ src }) {\n    const srcImage = getResource(\"loadImage\")(\n      \"https://raw.githubusercontent.com/johnlindquist/swapi-json-server/master/public/\" + data.image\n    );\n    return <img src={srcImage} alt={data.name} />;\n  }\n\n  return (\n    <div className=\"user-detail\">\n      <div className=\"image\">\n        <Suspense fallback={<div>loading image...</div>}>\n          {data.image && <RenderImage src={data.image} />}\n        </Suspense>\n      </div>\n      <div className=\"name\">Name: {data.name}</div>\n      <div className=\"name\">Gender: {data.gender}</div>\n      <div className=\"name\">Birth Year: {data.birth_year}</div>\n    </div>\n  );\n}\n","import React, { useContext, Suspense } from \"react\";\n\nimport usersContext from \"./../../contexts/users\";\n// import routerContext from \"./../../contexts/router\";\n\nimport Link from \"./../link\";\nimport List from \"./../list\";\nimport ListItem from \"./../list-item\";\nimport UserDetail from \"./../user-detail\";\n\nexport default function ListUsers({ id }) {\n  /**\n   * Now I can use my context to getResource and use Suspense\n   */\n  const { getResource } = useContext(usersContext);\n  // const { go } = useContext(routerContext);\n\n  const data = getResource(\"fetchUsers\")({});\n\n  if (!data)\n    return null;\n\n  return (\n    <List items={data}>\n      {user => (\n        <ListItem key={user.id}>\n          {String(user.id) !== String(id) && (\n            <h2>\n              <Link href={\"/users/\" + user.id}>{user.name}</Link>\n            </h2>\n          )}\n          {String(user.id) === String(id) && (\n            <Suspense fallback={<div>Loading user detail...</div>}>\n              <UserDetail id={id} />\n            </Suspense>\n          )}\n        </ListItem>\n      )}\n    </List>\n  );\n}\n","import React, { Suspense } from \"react\";\n\nimport ListUsers from \"./../components/list-users\";\n\nexport default function UserShell({ id }) {\n  return (\n    <Suspense fallback={<div>Loading user list...</div>}>\n      <ListUsers id={id} />\n    </Suspense>\n  );\n}\n","import React, { useContext } from \"react\";\n\nimport context from \"./../../contexts/products\";\n// import routerContext from \"./../../contexts/router\";\n\nimport List from \"./../list\";\nimport ListItem from \"./../list-item\";\n\nexport default function ListProduct() {\n  const { getResource } = useContext(context);\n  // const { url, params } = useContext(routerContext);\n\n  const data = getResource(\"fetchProducts\")({ id: 9, name: \"Leonard\" });\n\n  return (\n    <List items={data}>\n      {product => <ListItem key={product.id}>{product.name}</ListItem>}\n    </List>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Providers from \"./providers\";\n\nimport RootAppRoutes from \"./routes\";\n\nrequire(\"./styles.css\");\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <RootAppRoutes />\n    </Providers>\n  </React.StrictMode>,\n  rootElement\n);\n","import React, { Suspense } from \"react\";\n\nimport Route from \"./components/route\";\nimport Topbar from \"./components/topbar\";\nimport UserShell from \"./shell/users\";\nimport ListProdutcs from \"./components/list-products\";\n\nexport default function Routes() {\n  return (\n    <Suspense fallback={<div>global loading...</div>}>\n      <Route path=\"(.*)\">{params => <Topbar />}</Route>\n      <Route path=\"/\">{params => <div>initial</div>}</Route>\n      <Route path=\"/users/:id?\">{params => <UserShell {...params} />}</Route>\n      <Route path=\"/products(/.*)?\">{params => <ListProdutcs />}</Route>\n    </Suspense>\n  );\n}\n"],"sourceRoot":""}